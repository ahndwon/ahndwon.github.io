<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" type="text/css" href="/assets/css/materialize.css"> <link rel="stylesheet" type="text/css" href="/assets/main.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css"> <title>Your awesome title</title> </head> <body> <div class="container"> <div class="col s10"> <div class="row" style="padding:10px;"> <a id="home" class="waves-effect waves-light btn white-text darken-2 grey z-depth-4" href="/#blog"><i class="material-icons">arrow_back</i></a> </div> <h3 class="post-title" itemprop="name headline" style="text-align:center">1장 - 코틀린 소개</h3> <p class="post-meta"> <time datetime="2017-05-30T03:49:05+09:00" itemprop="datePublished"> May 29, 2017 </time> </p> <div class="post-content" itemprop="articleBody"> <h1 id="1장---코틀린-소개">1장 - 코틀린 소개</h1> <h2 id="코틀린이란-무엇인가">코틀린이란 무엇인가?</h2> <ul> <li>자바 플랫폼에서 돌아가는 새로운 프로그래밍 언어</li> <li>자바 코드와의 상호운용성(interoperability)를 중시한다.</li> <li>기존 자바 라이브러리나 프레임워크와 함께 잘 작동하며 성능도 자바와 같은 수준</li> </ul> <h2 id="11-코틀린-맛보기">1.1 코틀린 맛보기</h2> <p>http://try.kotl.in</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="kd">class</span> <span class="nf">Person</span><span class="o">(</span><span class="n">val</span> <span class="nl">name:</span> <span class="n">String</span><span class="o">,</span> <span class="n">val</span> <span class="nl">age:</span> <span class="n">Int</span><span class="o">?</span> <span class="o">=</span> <span class="kc">null</span><span class="o">)</span>

<span class="n">fun</span> <span class="nf">main</span><span class="o">(</span><span class="nl">args:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;)</span> <span class="o">{</span>
	<span class="n">val</span> <span class="n">persons</span> <span class="o">=</span> <span class="n">listOf</span><span class="o">(</span><span class="n">Person</span><span class="o">(</span><span class="s">"영희"</span><span class="o">),</span> <span class="n">Person</span><span class="o">(</span><span class="s">"철수"</span><span class="o">,</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">29</span><span class="o">))</span>
	<span class="n">val</span> <span class="n">oldest</span> <span class="o">=</span> <span class="n">persons</span><span class="o">.</span><span class="na">maxBy</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">age</span> <span class="o">?:</span> <span class="mi">0</span> <span class="o">}</span>
	<span class="n">println</span><span class="o">(</span><span class="s">"나이가 가장 많은 사람: $oldest"</span><span class="o">)</span>
<span class="o">}</span>							
</code></pre></div></div> <p><strong>?: 연산자</strong> ?: 연산자 (엘비스 연산자) - 변수 값이 null인 경우 0을 반환하고 그렇지 않은 경우 변수의 값을 반환함</p> <h2 id="12-코틀린의-주요-특성">1.2 코틀린의 주요 특성</h2> <h3 id="121-대상-플랫폼--서버-안드로이드-등-자바가-실행되는-모든-곳">1.2.1 대상 플랫폼 : 서버, 안드로이드 등 자바가 실행되는 모든 곳</h3> <p><strong>코틀린을 활용할 수 있는 일반적인 영역</strong></p> <ul> <li>서버상의 코드 ( 웹 애플리케이션 백엔드 )</li> <li>안드로이드 기반의 모바일 애플리케이션</li> </ul> <p>인텔의 멀티 OS 엔진을 사용하면 iOS 디바이스에서도 코틀린 사용 가능 자바스크립트로도 코틀린 컴파일 가능</p> <p>-&gt; 다양한 환경에서 활용 가능</p> <h3 id="정적-타입-지정-언어">정적 타입 지정 언어</h3> <p>자바와 마찬가지로 코틀린은 정적타입 (statically typed) 지정 언어다.</p> <ul> <li><strong>statically typed</strong> ( 정적 타입 ) -&gt; 모든 프로그램 구성 요소의 타입을 컴파일 시점에 알 수 있고 프로그램 안에서 객체의 필드나 메소드를 사용할 때마다 컴파일러 타입을 검증해준다는 뜻</li> <li><strong>dynamically typed</strong> (동적 타입) -&gt; Groovy, JRuby, Javascript, Python 가 대표적 언어, <ul> <li>장점 : 타입과 관계없이 모든 값을 변수에 넣을 수 있고, 메소드나 필드 접근에 대한 검증이 실행 시점에 일어나며, 그에 따른 코드가 더 짧아지고 데이터 구조를 더 유연하게 생성하고 사용할 수 있다.</li> <li>단점 : 이름을 잘못 입력하는 등의 실수도 컴파일 시 걸러내지 못하고 실행 시점(Runtime)에 오류가 발생함</li> </ul> </li> </ul> <p>코틀린은 정적타입 언어지만 타입을 추론 할 수 있다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="n">var</span> <span class="n">x</span> <span class="o">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">// 타입을 명시</span>
	<span class="n">var</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">// 컴파일러가 타입을 추론함</span>
</code></pre></div></div> <p><strong>정적 타입 지정의 장점</strong></p> <ul> <li>성능 - 실행 시점에 어떤 메소드를 호출할지 알아내는 과정이 필요 없으므로 메소도 호출이 빠름</li> <li>신뢰성 - 컴파일러가 프로그램의 정확성을 검증하기 때문에 실행 시 프로그램이 오류로 중단될 가능성이 적어짐</li> <li>유지 보수성 - 코드에서 다루는 객체가 어떤 티입에 속하는지 알 수 있기 때문에 처음 보는 코드를 다룰 때도 더 쉽다.</li> <li>도구 지원 - 정적 타입 지정을 활용하면 더 안전하게 리팩토링 할 수 있고 도구는 더 정확한 코드 완성 기능을 제공할 수 있으며, IDE의 다른 지원 기능도 더 잘 만들 수 있다.</li> </ul> <p><strong>코틀린 특징</strong></p> <ul> <li>코틀린은 nullable type을 지원 -&gt; 널 포인터 예외 발생 여부를 체크하기 때문에 프로그램 신뢰성 향상</li> <li>코틀린은 함수형 프로그래밍 언어이다.</li> </ul> <h3 id="함수형-프로그래밍과-객체지향-프로그래밍">함수형 프로그래밍과 객체지향 프로그래밍</h3> <p><strong>함수형 프로그래밍의 핵심 개념</strong></p> <ul> <li>일급 시민(first class)인 함수 - 함수를 일반 값처럼 다룰 수 있다. 함수를 변수에 저장할 수 있고, 함수를 인자로 다른 함수에 전달 할 수 있으며, 함수에서 새로운 함수를 만들어서 반환할 수 있다.</li> <li>불변성(immutability) - 함수형 프로그래밍에서는 일단 만들어지고 나면 내부 상태가 절대로 바뀌지 않는 불변 객체를 사용해 프로그램을 작성한다.</li> <li>부수 효과(side effect) 없음 - 입력이 같으면 항상 같은 출력을 내놓고 다른 객체의 상태를 변경하지 않으며, 함수 외부나 다른 바깥 환경과 상호작용하지 않는 순수 함수를 사용</li> </ul> <p>자바에서도 함수형 프로그래밍이 가능하긴 함 (람다)</p> <h2 id="13-코틀린-응용">1.3 코틀린 응용</h2> <h3 id="131-코틀린-서버-프로그래밍">1.3.1 코틀린 서버 프로그래밍</h3> <p>서버 프로그래밍의 분야</p> <ul> <li>브라우저에 HTML 페이지를 돌려주는 웹 애플리케이션</li> <li>모바일 애플리케이션에게 HTTP를 통해 JSON API를 제공하는 백엔드 애플리케이션</li> <li>RPC(Remote Procedure Call) 프로토콜을 통해 서로 통신하는 작은 서비스들로 이뤄진 마이크로서비스</li> </ul> <p>원격 프로시저 호출(영어: remote procedure call, 리모트 프로시저 콜, RPC)은 별도의 원격 제어를 위한 코딩 없이 다른 주소 공간에서 함수나 프로시저를 실행할 수 있게하는 프로세스 간 통신 기술 다시 말해, 원격 프로시저 호출을 이용하면 프로그래머는 함수가 실행 프로그램에 로컬 위치에 있든 원격 위치에 있든 동일한 코드를 이용할 수 있다.</p> <h3 id="132-코틀린-안드로이드-프로그래밍">1.3.2 코틀린 안드로이드 프로그래밍</h3> <p>코틀린을 통해 보일러플레이트 제거 가능 Anko 라이브러리를 사용하면 수많은 안드로이드 API에 대한 코틀린 어댑터를 제공받을 수 있다. DSL - Domain Specific Language</p> <p>Anko Layout 예 [image:70F5A7EC-8886-4F79-BAD1-41F227DD5D1B-688-0000034BAE35B6F0/5D88292B-11F7-4D93-8361-233F75E52507.png]</p> <p>Kotlin Android Extensions 활용 빌드 그래들에 아래 플러그인 추가 <code class="highlighter-rouge">apply plugin: 'kotlin-android-extensions'</code> [image:29CF0315-BEE9-4F15-A214-547FB90A2E0F-688-00000354A86DE1CB/77C718D3-A2D7-4F6D-A08A-2BB66546BBD6.png] &lt; 사용 전 &gt;</p> <p>[image:6B30678C-496F-46E3-ACD2-8F40C5F82D46-688-000003661AC461C1/E4A33AB6-C28B-463D-A716-8DC5697FFA2E.png] &lt; 사용 후 &gt;</p> <p><strong>안드로이도 개발에 코틀린 사용시 장점</strong></p> <ul> <li>Null Pointer Exception 방지 가능</li> <li>자바 6와 완전 호환되어 호환성 문제가 발생하지 않는다.</li> </ul> <h2 id="코틀린의-철학">코틀린의 철학</h2> <h3 id="141-실용성">1.4.1 실용성</h3> <p>코틀린은 학문 연구로서의 사용보단 실제 업무에 더 적합하다. 이미 다른 프로그래 언어가 채택한 검증된 해법과 기능에 의존하므로 안전하고 배우기 더 쉽다.</p> <h3 id="142-간결성">1.4.2 간결성</h3> <p>코틀린은 코드를 간결하게 작성하게 해줘서 의도롤 쉽게 파알 할 수 있고 보일러플레이트가 적다. 게터, 세터, 생성자 묵시적으로 제공하기 때문에 코드가 간결함.</p> <h3 id="143-안전성">1.4.3 안전성</h3> <p>안전성 -&gt; 프로그램에서 발생 할 수 있는 오류 중에서 일부 유형의 오류를 프로그램 설계가 원천적으로 방지</p> <p>안전성과 생산성 사이에는 trade-off 관계 성립</p> <p>코틀린은 nullable로 NullPointer Exception 안전성 보장</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">val</span> <span class="nl">s:</span> <span class="n">String</span><span class="o">?</span> <span class="o">=</span> <span class="kc">null</span> <span class="c1">// null 가능</span>
<span class="n">val</span> <span class="nl">s2:</span> <span class="n">String</span> <span class="o">=</span> <span class="s">""</span>	<span class="c1">// null 불가능</span>
</code></pre></div></div> <p>ClassCastException에 대해서도 타입 검사 가능</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="n">is</span> <span class="n">String</span><span class="o">)</span>	<span class="c1">// 타입 검사</span>
	<span class="n">println</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">())</span>  <span class="c1">// 해당 타입의 메소드 사용</span>
</code></pre></div></div> <h3 id="144-상호운용성">1.4.4 상호운용성</h3> <p><strong>자바와 코틀린은 자유롭게 오갈 수 있다</strong></p> <ul> <li>자바와 코틀린 소스 파일 자유롭게 내비게이션 가능</li> <li>여러 언어로 이뤄진 프로젝트를 디버깅하고 서로 다른 언어로 작성된 코드를 언어와 관계없이 한 단계씩 실행할 수 있다.</li> <li>자바 메소드를 리팩토링해도 그 메소드와 관련 있는 코틀린 코드까지 제대로 변경된다. 역으로 코틀린 메소도 리팩토링해도 자바 코드까지 모두 자동으로 변경됨</li> </ul> <h2 id="15-코틀린-도구-사용">1.5 코틀린 도구 사용</h2> <h3 id="151-코틀린-코드-컴파일">1.5.1 코틀린 코드 컴파일</h3> <p>[image:5EB26403-4AF8-48EA-AA32-689F11ED8E97-688-0000094A8E3B3AF5/E2DAA9D3-445F-4247-B380-43FFDF544824.png]</p> <p>코틀린 컴파일러로 컴파일한 코드는 코틀린 런타임 라이브러리에 의존한다. 코틀린은 메이븐, 그레이들, 앤트 등의 빌드 시스템이랑도 호환됨.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// $ kotlinc Hello.kt </span>
<span class="c1">//  =&gt; HelloKt.class </span>
<span class="c1">// $ javap -c HelloKt.class</span>

<span class="c1">// $ kotlin HelloKt</span>
<span class="c1">// $ java HelloKt</span>

<span class="cm">/*
Exception in thread "main" java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics
	at HelloKt.main(Hello.kt)
Caused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 1 more
*/</span>

<span class="c1">// 코틀린의 새로운 기능에 대한 부분이 포함되어야 한다.</span>
<span class="c1">//  $ kotlin &lt;- kotlin의 기능이 포함된 클래스가 로드된다. - 500KB</span>
<span class="c1">//  $ java   &lt;- kotlin의 기능이 로드되지 않는다.</span>

<span class="c1">//  $ kotlinc -include-runtime Hello.kt -d Hello.jar</span>
<span class="c1">//  $ java -jar Hello.jar</span>

</code></pre></div></div> <h3 id="153-대화형-쉘">1.5.3 대화형 쉘</h3> <p>REPL (read-eval-print loop) 사용법 : kotlinc 를 아무 인자 없이 실행하면 됨</p> <h2 id="요약">요약</h2> <ul> <li>코틀린 -&gt; 타입 추론을 지원하는 정적 타입 지정 언어</li> <li>코틀린은 객체지향과 함수형 프로그래밍 스타일을 모두 지원</li> <li>코틀린을 서버 애플리케이션 개발에 활용 가능</li> <li>코틀린은 안드로이드에도 활용 가능</li> <li>코틀린은 실용적이고 안전하며, 간결하고 상호운용성이 좋다. NullPointerException등 다양한 오류를 방지하고 코드를 간결하게 해주며 자바의 기존 라이브러리 모두 사용 가능하다.</li> </ul> </div> </div> </div> <script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script> <script type="text/javascript" src="/assets/js/materialize.min.js"></script> <script src="/assets/js/init.js"></script> </body> <footer class="page-footer"> <div class="footer-copyright" style="padding-left: 30px"> <i class="material-icons" style="padding-right:5px">copyright</i><p>2018 Copyright Your Name | All rights reserved</p> </div> </footer> </html>